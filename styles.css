/* ===================== styles.css ===================== */
:root{
  --bg:#0b1020; --fg:#e8ecf1; --muted:#9fb0c3; --panel:#131a30; --accent:#5b9cff;
  --E:#f59e0b; /* Extraction */
  --P:#10b981; /* Processing */
  --T:#3b82f6; /* Transport/Export */
  --OIL:#f59e0b; --MET:#ef4444; --AGR:#22c55e; --FERT:#60a5fa; --PREC:#111827;
}

*{ box-sizing:border-box; }
html, body { height:100%; margin:0; background:var(--bg); color:var(--fg);
  font:14px/1.45 system-ui, Segoe UI, Roboto, Ubuntu, Arial; }

/* Layout */
header{
  display:flex; gap:12px; align-items:center; justify-content:space-between;
  padding:10px 14px; border-bottom:1px solid #1f2947;
  background:linear-gradient(180deg,#0d1630,transparent);
  position:sticky; top:0; z-index:1000;
}
header .title{ display:flex; gap:10px; align-items:center; font-weight:700; }

/* Toggle (mobile) */
#toggleSidebar{
  display:none; border:1px solid #2a3b6e; background:#0f1430; color:#e8ecf1;
  border-radius:10px; padding:6px 10px; cursor:pointer;
}

.header-controls{ max-width:780px; flex:1; }
#app{ display:grid; grid-template-columns:1.4fr 0.9fr; gap:12px; height:calc(100% - 54px); }
#map{ height:100%; width:100%; }

/* Sidebar */
aside{ background:var(--panel); border-left:1px solid #1f2947;
  display:flex; flex-direction:column; min-width:320px; }
.panel{ padding:12px 14px; border-bottom:1px solid #1f2947; }
.scroll{ overflow:auto; }

/* Controls */
.row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.row > *{ flex:1; min-width:140px; }
input, select, button, textarea{
  background:#0e1430; border:1px solid #22315c; color:var(--fg);
  padding:10px 12px; border-radius:10px; outline:none;
}
button{ cursor:pointer; font-weight:600; }
button.primary{ background:#1c2a52; border-color:#3b5ccc; }

/* Chips & key/values */
.small{ font-size:12px; color:#b8c9df; }
.subtle{ color:var(--muted); }
.h{ font-weight:700; margin:8px 0 6px; }
.divider{ height:1px; background:#1f2947; margin:8px 0; }

.chips{ display:flex; gap:6px; flex-wrap:wrap; margin:6px 0; }
.chip{ padding:4px 8px; border-radius:999px; border:1px solid #2a3b6e;
  background:#0f1430; color:#cfe0ff; font-size:12px; }
.pill{ display:inline-flex; gap:6px; align-items:center; padding:4px 8px;
  border-radius:999px; background:#0f1b38; border:1px solid #273b6a; color:#cfe0ff; }

.kv{ display:grid; grid-template-columns:1fr auto; gap:6px; }
.kv div{ padding:4px 0; border-bottom:1px dashed #2a3862; }

/* Legend */
.legend{ display:flex; gap:8px; flex-wrap:wrap; }
.legend .item{ display:flex; gap:6px; align-items:center;
  font-size:12px; color:var(--muted); }
.legend .dot{ width:12px; height:12px; border-radius:3px; }
.legend .E{ background:var(--E); } .legend .P{ background:var(--P); }
.legend .T{ background:var(--T); } .legend .OIL{ background:var(--OIL); }
.legend .MET{ background:var(--MET); } .legend .AGR{ background:var(--AGR); }
.legend .FERT{ background:var(--FERT); }
.legend .PREC{ background:var(--PREC); border:1px solid #334155; }

/* Cards */
.routeCard{ border:1px solid #263b6a; border-radius:14px; padding:10px;
  margin:8px 0; background:#0d142e; }

/* Leaflet adjustments */
.leaflet-container { background:#0b1020; }
.leaflet-control-zoom a { color:#fff; }
.leaflet-popup-content { color:#0b1020; }

/* Optional pane safety */
.leaflet-labels-pane { pointer-events: none; }

/* ===================== Responsive ===================== */
@media (max-width: 1200px){
  .header-controls{ max-width:100%; }
}

@media (max-width: 900px){
  html, body { font-size:15px; }
  #toggleSidebar{ display:inline-block; }
  #app{ grid-template-columns:1fr; height:calc(100% - 56px); }

  /* Drawer para el sidebar */
  aside{
    position: fixed; right:0; top:56px; height: calc(100% - 56px);
    width: min(92vw, 420px);
    transform: translateX(100%);
    transition: transform .25s ease;
    box-shadow: -8px 0 20px rgba(0,0,0,.35);
    z-index: 1200;
  }
  aside.open{ transform: translateX(0); }
  aside footer{ padding:10px 14px; }

  /* Mapa ocupa todo el ancho; asegura redimensionado suave */
  #map{ height: calc(100vh - 56px); }

  /* Inputs más cómodos al tacto */
  input, select, button{ padding:12px 14px; }
  .row > *{ min-width: 160px; }
}
